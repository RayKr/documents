# 关于CATV使用Git代替Svn进行版本控制的可行性分析报告


[TOC]


`Git`与`SVN`都是用于代码版本控制的系统。介于CATV项目组现行的SVN，略过关于版本控制系统的介绍，文本着重讲述Git与Svn的区别以及提升，并确定出替换的可行性。

## Git简介

Git是一款开源的、稳定的、简单高效的分布式版本控制系统。Git在诞生之初便继承了Linux社区简单高效的特性，并在开源环境中不断发展壮大，迅速成为最流行的分布式版本控制系统。

2008年，Github网站上线，它为全世界开源项目免费提供Git存储，无数开源项目开始迁移到Github上，包括著名的PHP,jquery,ruby,nodejs等等。

由于企业源码的保密性，所以不可能存储到Github上的免费库，所以Github提供了付费存储的私有库，但是常常都是公司内部自行搭建Github服务器。现在国内许多大公司也逐步转向Git，例如百度内部，Alipay等现在也在用Git管理源码。

## Git与SVN对比

### 分布式 vs 集中式
Git是分布式的版本控制系统，SVN是集中式的版本控制系统。

“集中式”的版本控制系统，版本库（Repositories）放在“中央服务器”上，工作时每个人都从中央服务器同步到本地，在最新版版本上修改后上传到中央服务器。

“分布式”的版本控制系统，同样有“中央服务器”，更大的特点是可分布式存储。每个人的电脑都是一个完整的版本库，存储更改历史，可提交文件，创建、合并分支等。可见分布式的版本控制系统不再受制于必须有网络时才可工作。和集中式版本控制系统相比，分布式版本控制系统的安全性要高很多，因为每个人电脑里都有完整的版本库，某一个人的电脑坏掉了不要紧，随便从其他人那里复制一个就可以了。而集中式版本控制系统的中央服务器要是出了问题，所有人都没法干活了。

### 分支

Git与SVN的另一个很大不同是分支的使用。SVN虽然支持分支，但是切换和配置十分缓慢，现在已经沦为摆设。但是git的分支快速，简单，并且分支对团队分工合作的帮助十分巨大。

但Git的分支是与众不同的，无论创建、切换和删除分支，Git在1秒钟之内就能完成！无论你的版本库是1个文件还是1万个文件。

### 使用方式和便捷性

Linux上的git使用命令行特别方便，Windows上的`Git for Windows` + `TortoiseGit`可以实现与SVN相同的操作方式，对于熟悉SVN操作的同事们可以无缝切换。

观念需要转换的一点是，commit提交到的是本地的git库中，如果要把本地库同步到中央服务器上，需要进行push->master操作。这也是由于分布式系统所决定的特性，也是需要大家转换的思维。

## 结合CATV分析Git的可行性

接下来，我将逐步根据平常开发中遇到的状况做列举，并叙述git可带来的改观。

> 状况一：Jing和Chen都在开发CyberCloud，虽然各自遵循模块化开发，但不可避免的会在对接上处理相同类，而Jing必须在Chen修改之后的基础上再做修改，遂等待Chen提交更改后的文件到SVN中央服务器。恰恰此时，网络断掉了，Chen无法提交程序，Jing无法继续开发，所有人都被挂起。这时的我们，恨不得可以在局域网内互相推送更新，而不耽误工作进度。

针对上述情况，我相信每个人都碰到过也头疼过，由于SVN的集中式版本控制，把这种情况卡的死死的，而Git却可以轻松应对。Git遵循分布式版本库存储，每个人的电脑就是一个完整的库，包含库的所有信息，每个人都是一个服务器，即使中央服务器挂掉了，数据都清除了，只需要从其中一个人的电脑上clone一遍库即可恢复，在数据安全性也是另一个方面的提升。状况一所述的问题，自然也就迎刃而解，断网下的情况，局域网内的多人协作不会停止，单人的工作更不会停止。因为每个人都是完整的库，都可以进行commit操作，唯一不能的只是push到中央服务器上而已。而后者完全可以等待网络连通后push一下即可。

> 状况二：





## 个人建议的转换过程

当前各个项目都使用SVN进行版本控制，项目数量多，源码容量大，并且所有同事都对SVN产生了习惯性依赖，转变需一步步推进，所以个人推荐转换流程如下：

1. 先搭建我们内网的Git版本库服务器，作为“中央服务器”，用以多人协作同步修改的枢纽，从而不必在工作站电脑中互相推送修改。
2. 由于git和SVN共同使用并不冲突，所以可以先用trinetworks项目作为试点，在同一个文件夹创建.svn和.git库，逐渐理解git理念和操作，孰能生巧，水到渠成。


## 附录
1. [《Git和SVN之间的五个基本区别》](http://blog.jobbole.com/31444/)
2. [《Git教程-廖雪峰的的官方网站》](http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000)
3. [《TortoiseGit 使用教程》](http://blog.csdn.net/ethan_xue/article/details/7749639)
4. [《SVN和Git的比较》](http://blog.csdn.net/a117653909/article/details/8952183)
5. [《git-svn — 让git和svn协同工作 》](http://blog.chinaunix.net/uid-11639156-id-3077471.html)
